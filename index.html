<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
<meta charset="UTF-8" />
<title>The Daily Pratchett</title>
<link href="website/style.css" rel="stylesheet" />
<link href="http://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />
<link href="http://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<script src="website/jquery-2.1.3.min.js"></script>
</head>
<body>
		<header>
			<h1>
				The Daily Pratchett
			</h1>
			<nav>
			<a href="#top">Quote</a>
			<a href="#about">About</a>
			<a href="#subscribe">Subscribe</a>
			</nav>
		</header>
		
<main class="mainContent">
<section class="quote"  id="quote">
<blockquote id="mainQuote">
    <p id="content">The librarian was, ex officio, a member of the college council. No-one had
been able to find any rule about orang-utans being barred, although they
had surreptiously looked very hard for one.</p>
    <footer>
	<p id="context">Unseen University politics at work </p><cite id="author">Terry Pratchett, Eric</cite>
        
    </footer>
</blockquote>
</section>
<section id="about"  class="about">
<h2>About</h2>
<p> 
Lorem Ipsum jest tekstem stosowanym jako przykładowy wypełniacz w przemyśle poligraficznym. Został po raz pierwszy użyty w XV w. przez nieznanego drukarza do wypełnienia tekstem próbnej książki. Pięć wieków później zaczął być używany przemyśle elektronicznym, pozostając praktycznie niezmienionym. Spopularyzował się w latach 60. XX w. wraz z publikacją arkuszy Letrasetu, zawierających fragmenty Lorem Ipsum, a ostatnio z zawierającym różne wersje Lorem Ipsum oprogramowaniem przeznaczonym do realizacji druków na komputerach osobistych, jak Aldus PageMaker</p>

<p> 
Lorem Ipsum jest tekstem stosowanym jako przykładowy wypełniacz w przemyśle poligraficznym. Został po raz pierwszy użyty w XV w. przez nieznanego drukarza do wypełnienia tekstem próbnej książki. Pięć wieków później zaczął być używany przemyśle elektronicznym, pozostając praktycznie niezmienionym. Spopularyzował się w latach 60. XX w. wraz z publikacją arkuszy Letrasetu, zawierających fragmenty Lorem Ipsum, a ostatnio z zawierającym różne wersje Lorem Ipsum oprogramowaniem przeznaczonym do realizacji druków na komputerach osobistych, jak Aldus PageMaker</p>
</section>
<div class="subscribe" id="subscribe">
<form action="http://github.us10.list-manage.com/subscribe/post?u=d2fb64c7286756c9bdb5d1c3f&amp;id=b6b464f785" method="post">
<h2>Subscribe to receive a quote from Sir Terry every day</h2>
<p class="terms">You will receive one email daily, containing a new quote from our beloved author. No more, no less - your email is safe with us.</p>
<input type="email" value="" name="EMAIL" id="mce-EMAIL" class="inputField" required="true" placeholder="Email address">
 </label>
	<!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
	 <div style="position: absolute; left: -5000px;"><input type="text" name="b_d2fb64c7286756c9bdb5d1c3f_b6b464f785" tabindex="-1" value=""></div>
	     <div><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
</form>

</div>

<footer class="authorInfo">
<p>&copy; 2015 Marek Nocoń.</p>
</footer>
</main>
</body>
</html>

<script>
	var $content = $("#content");
	var $context = $("#context");
	var $author = $("#author");	
	
	var oneDay = 24*60*60*1000; // hours*minutes*seconds*milliseconds
	var launchDate = new Date(2015, 03, 21, 12);
	var todayDate = new Date();

	function setHeight(param)
	{
    $('.quote').css({height:param});
	$('.quote').animate({ "height": "-=60px" }, 0);
	}
	
	function setTopMargin(param)
	{
    $('#mainQuote').css({top:param});
	}
	
	$(document).ready(function() {
	
		$.getJSON( "website/quotes.json", function( data ) {
			quotesArray = data;
			var diffDays = Math.round(Math.abs((todayDate.getTime() - 	launchDate.getTime())/(oneDay)));
			var quoteToSet = diffDays % quotesArray.length;
			setQuote(quoteToSet);
			});
	});
	
	function setQuote(i){
	$content.text(quotesArray[i].Content);
	$author.text(quotesArray[i].Author);
	$context.text(quotesArray[i].Context);
		if ( quotesArray[i].Content.length > 450)
		{
		setHeight('200%');
		}
		else
		{
		setHeight('100%');
		}
	}
	var i = 0;
	$('#triggerJQ').click(function()
	{
	setQuote(i++);
	});
</script>